(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-043cef04"],{"27bf":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"containter"},[s("div",{staticClass:"content flex-col"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.mobileUtil.isPc,expression:"mobileUtil.isPc"}],staticClass:"modelFont flex-y-center flex-x-center flex-row"},[s("img",{attrs:{src:i("f320"),alt:""}}),e._v(" 布置作业赛-选择题目 ")]),s("div",{staticClass:"homeWorkCon flex-col"},[s("div",{staticClass:"flex-row "},[s("div",{staticClass:"homeWorkConLeft"},[s("treeView",{ref:"trees",attrs:{matchDetail:e.matchDetail},on:{getTreeData:e.getTreeData}})],1),s("div",{staticClass:"flex-col flex-1 homeWorkConRig"},[s("div",{staticClass:"selectGroup flex-col"},[s("div",{staticClass:"flex-row selectGroupRow flex-y-center"},[s("p",{staticClass:"title"},[e._v("題型:")]),s("el-checkbox",{attrs:{border:"",size:"mini"},on:{change:function(t){return e.handleCheckAllChange(t,0)}},model:{value:e.selectForm.isTypeAll,callback:function(t){e.$set(e.selectForm,"isTypeAll",t)},expression:"selectForm.isTypeAll"}},[e._v("全选")]),s("el-checkbox-group",{staticClass:"flex-y-center",attrs:{size:"mini"},on:{change:function(t){return e.handleCheckedCitiesChange(t,0)}},model:{value:e.selectForm.type,callback:function(t){e.$set(e.selectForm,"type",t)},expression:"selectForm.type"}},e._l(e.typeList,(function(t,i){return s("el-checkbox",{key:i,attrs:{border:"",label:t.key}},[e._v(e._s(t.name))])})),1)],1),s("div",{staticClass:"flex-row selectGroupRow flex-y-center"},[s("p",{staticClass:"title"},[e._v("難度:")]),s("el-checkbox",{attrs:{border:"",size:"mini"},on:{change:function(t){return e.handleCheckAllChange(t,1)}},model:{value:e.selectForm.isDiffAll,callback:function(t){e.$set(e.selectForm,"isDiffAll",t)},expression:"selectForm.isDiffAll"}},[e._v("全选")]),s("el-checkbox-group",{staticClass:"flex-y-center",attrs:{size:"mini"},on:{change:function(t){return e.handleCheckedCitiesChange(t,1)}},model:{value:e.selectForm.diff,callback:function(t){e.$set(e.selectForm,"diff",t)},expression:"selectForm.diff"}},e._l(e.diffList,(function(t,i){return s("el-checkbox",{key:i,attrs:{border:"",label:t.key}},[e._v(e._s(t.name))])})),1)],1),s("div",{staticClass:"flex-row selectGroupRow flex-y-center"},[s("p",{staticClass:"title"},[e._v("題源:")]),s("el-checkbox",{attrs:{border:"",size:"mini"},on:{change:function(t){return e.handleCheckAllChange(t,2)}},model:{value:e.selectForm.isPaperTypeAll,callback:function(t){e.$set(e.selectForm,"isPaperTypeAll",t)},expression:"selectForm.isPaperTypeAll"}},[e._v("全选")]),s("el-checkbox-group",{staticClass:"flex-y-center",attrs:{size:"mini"},on:{change:function(t){return e.handleCheckedCitiesChange(t,2)}},model:{value:e.selectForm.paperType,callback:function(t){e.$set(e.selectForm,"paperType",t)},expression:"selectForm.paperType"}},e._l(e.paperTypeList,(function(t,i){return s("el-checkbox",{key:i,attrs:{border:"",label:t.key}},[e._v(e._s(t.name))])})),1)],1),s("div",{staticClass:"flex-row selectGroupRow flex-y-center"},[s("p",{staticClass:"title"},[e._v("年份:")]),s("el-radio-group",{attrs:{size:"mini"},model:{value:e.selectForm.yearRange,callback:function(t){e.$set(e.selectForm,"yearRange",t)},expression:"selectForm.yearRange"}},e._l(e.yearRangeList,(function(t,i){return s("el-radio",{key:i,attrs:{label:t.key,border:""}},[e._v(e._s(t.name))])})),1)],1)]),s("div",{staticClass:"flex-col execRow flex-y-center"},[s("div",{staticClass:"title"},[e._v("共計"+e._s(e.questionNum)+"道相關試題")]),s("el-button",{attrs:{type:"primary"},on:{click:e.searchQuestion}},[e._v("搜索题库")])],1),e._l(e.questionList,(function(t,i){return s("div",{key:i,staticClass:"questionView flex-col"},[s("div",{staticClass:"questionViewTop flex-row flex-x-between"},[s("div",[e._v(" 題源："+e._s(t.paperType)+" | 難度："+e._s(t.diff)+" ")]),s("div",[e._v("來源："+e._s(t.source)+" ")])]),s("div",{staticClass:"questionViewCont flex-col"},[s("div",{staticClass:"subjectTitle"},[e._v(e._s(t.title)+" ")]),e._l(t.options,(function(t,i){return s("div",{key:i,staticClass:"optionView"},[e._v(e._s(t.optionSerial+"."+t.content))])})),s("div",{staticClass:"answerFont"},[e._v("【答案】"+e._s(t.answer))])],2),s("div",{staticClass:"butFooter flex-row flex-x-end"},[t.isChecked?s("el-button",{attrs:{type:"danger",icon:"el-icon-close",size:"mini"},on:{click:function(i){return e.changeQuestionState(t,!1)}}},[e._v("删除")]):s("el-button",{attrs:{type:"warning",icon:"el-icon-plus",size:"mini"},on:{click:function(i){return e.changeQuestionState(t,!0)}}},[e._v("选题")])],1)])})),s("el-button",{attrs:{type:"primary"},on:{click:e.addQuestion}},[e._v("添加")])],2)])])])])},a=[],n=(i("4de4"),i("d81d"),i("5530")),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"flex-col"},[e._m(0),i("div",{staticClass:"treePart"},[i("el-tree",{ref:"showTree",attrs:{props:e.props,lazy:"",load:e.loadNode,"show-checkbox":""}})],1)])},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tipFont flex-row flex-y-center"},[s("img",{attrs:{src:i("5114"),alt:""}}),s("div",[e._v("課節挑題")])])}],r=(i("99af"),{data:function(){return{treeData:[],defaultProps:{children:"children",label:"label"},props:{isLeaf:"leaf"}}},props:{matchDetail:{type:Object,default:function(){}}},mounted:function(){},methods:{loadNode:function(e,t){var i={};if(0===e.level?i={grade:this.matchDetail.gradeCode,course:this.matchDetail.courseCode,pageIndex:1,pageSize:1e4,contentType:1}:1===e.level&&(i={contentType:2,pageIndex:1,pageSize:100,parentId:e.data.id}),e.level>1)return t([]);this.$axios.getChaperList(i).then((function(e){if(e.success){var i=e.data.map((function(e){return{id:e.id,label:e.content,children:[]}}));return t(i)}}))},getTreeData:function(){var e=this.$refs.showTree.getCheckedNodes().concat(this.$refs.showTree.getHalfCheckedNodes());this.$emit("getTreeData",e)}},watch:{}}),o=r,u=(i("45d6"),i("2877")),h=Object(u["a"])(o,c,l,!1,null,"7a14077e",null),p=h.exports,d={data:function(){return{matchId:"",matchDetail:{},typeList:[{name:"选择题",key:1},{name:"填空题",key:2},{name:"解答题",key:3},{name:"综合题",key:4}],diffList:[{name:"容易",key:1},{name:"较易",key:2},{name:"中等",key:3},{name:"较难",key:4},{name:"难",key:5}],paperTypeList:[{name:"模拟考",key:32},{name:"期末考",key:34},{name:"期中考",key:35},{name:"月考",key:36},{name:"中考",key:31},{name:"单元测试",key:38},{name:"高考",key:37},{name:"其他",key:33}],yearRangeList:[{name:"全部",key:""},{name:"近1年",key:1},{name:"近3年",key:2},{name:"近5年",key:3},{name:"更多",key:4}],selectForm:{type:[],isTypeAll:!1,diff:[],isDiffAll:!1,paperType:[],isPaperTypeAll:!1,yearRange:"",chapterIds:[]},chaperList:[],questionNum:0,questionList:[]}},components:{treeView:p},created:function(){this.mobileUtil=JSON.parse(sessionStorage.getItem("mobileUtil")),this.matchId=this.$route.query.matchId},mounted:function(){this.getMatchmsg()},methods:{getQuestionList:function(){var e=this,t={type:this.selectForm.type,diff:this.selectForm.diff,paperType:this.selectForm.paperType,yearRange:this.selectForm.yearRange,grade:this.matchDetail.gradeCode,course:this.matchDetail.courseCode,chapterIds:[6]};0==t.diff.length&&delete t.diff,0==t.paperType.length&&delete t.paperType,0==t.type.length&&delete t.type,""==t.yearRange&&delete t.yearRange,this.$axios.getQuestionBankList(t).then((function(t){t.success&&(e.questionNum=t.page.totalCount,e.questionList=t.data.map((function(e){return Object(n["a"])(Object(n["a"])({},e),{},{isChecked:!1})})))}))},changeQuestionState:function(e,t){e.isChecked=t},addQuestion:function(){var e=this,t=this.questionList.filter((function(e){return e.isChecked})).map((function(e){return e.id}));if(0!=t.length){var i={topicId:this.matchId,questionIds:t};this.$axios.addQuestion(i).then((function(t){t.success&&(e.$message({message:"布置成功",type:"success"}),setTimeout((function(){e.$router.push("/teacher/fixTaskPush")}),3e3))}))}else this.$message({message:"至少选择一个题目",type:"warning"})},searchQuestion:function(){this.$refs.trees.getTreeData()},getTreeData:function(e){this.selectForm=Object(n["a"])(Object(n["a"])({},this.selectForm),{},{chapterIds:e.map((function(e){return e.id}))}),this.getQuestionList()},getMatchmsg:function(){var e=this;this.$axios.getMatchMsg({topicId:this.matchId}).then((function(t){t.success&&(e.matchDetail=t.data,e.getChaperList(),e.getQuestionList())}))},getChaperList:function(){var e=this,t={grade:this.matchDetail.gradeCode,course:this.matchDetail.courseCode,pageIndex:1,pageSize:1e4,contentType:1};this.$axios.getChaperList(t).then((function(t){t.success&&(e.chaperList=t.data)}))},toUrl:function(e){e&&this.$router.push(e)},handleCheckAllChange:function(e,t){0===t?this.selectForm=Object(n["a"])(Object(n["a"])({},this.selectForm),{},{type:e?this.typeList.map((function(e){return e.key})):[],isTypeAll:e}):1===t?this.selectForm=Object(n["a"])(Object(n["a"])({},this.selectForm),{},{diff:e?this.diffList.map((function(e){return e.key})):[],isDiffAll:e}):2===t&&(this.selectForm=Object(n["a"])(Object(n["a"])({},this.selectForm),{},{paperType:e?this.paperTypeList.map((function(e){return e.key})):[],isPaperTypeAll:e}))},handleCheckedCitiesChange:function(e,t){if(0===t){var i=e.length===this.typeList.length;this.selectForm=Object(n["a"])(Object(n["a"])({},this.selectForm),{},{isTypeAll:i})}else if(1===t){var s=e.length===this.diffList.length;this.selectForm=Object(n["a"])(Object(n["a"])({},this.selectForm),{},{isDiffAll:s})}else if(2===t){var a=e.length===this.paperTypeList.length;this.selectForm=Object(n["a"])(Object(n["a"])({},this.selectForm),{},{isPaperTypeAll:a})}}}},f=d,m=(i("6917"),Object(u["a"])(f,s,a,!1,null,"0fb8e473",null));t["default"]=m.exports},"45d6":function(e,t,i){"use strict";var s=i("60dd"),a=i.n(s);a.a},5114:function(e,t,i){e.exports=i.p+"img/notice.66e3c0e7.png"},"60dd":function(e,t,i){},6917:function(e,t,i){"use strict";var s=i("eb2b"),a=i.n(s);a.a},"99af":function(e,t,i){"use strict";var s=i("23e7"),a=i("d039"),n=i("e8b5"),c=i("861d"),l=i("7b0b"),r=i("50c4"),o=i("8418"),u=i("65f0"),h=i("1dde"),p=i("b622"),d=i("2d00"),f=p("isConcatSpreadable"),m=9007199254740991,y="Maximum allowed index exceeded",g=d>=51||!a((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),b=h("concat"),v=function(e){if(!c(e))return!1;var t=e[f];return void 0!==t?!!t:n(e)},C=!g||!b;s({target:"Array",proto:!0,forced:C},{concat:function(e){var t,i,s,a,n,c=l(this),h=u(c,0),p=0;for(t=-1,s=arguments.length;t<s;t++)if(n=-1===t?c:arguments[t],v(n)){if(a=r(n.length),p+a>m)throw TypeError(y);for(i=0;i<a;i++,p++)i in n&&o(h,p,n[i])}else{if(p>=m)throw TypeError(y);o(h,p++,n)}return h.length=p,h}})},d81d:function(e,t,i){"use strict";var s=i("23e7"),a=i("b727").map,n=i("1dde"),c=i("ae40"),l=n("map"),r=c("map");s({target:"Array",proto:!0,forced:!l||!r},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},eb2b:function(e,t,i){},f320:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAiCAYAAAAQ9/ptAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAyMUVFMzFBQjYxQjExRUE5MkI0QUI2MjE0MjBBMjFBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAyMUVFMzFCQjYxQjExRUE5MkI0QUI2MjE0MjBBMjFBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDIxRUUzMThCNjFCMTFFQTkyQjRBQjYyMTQyMEEyMUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDIxRUUzMTlCNjFCMTFFQTkyQjRBQjYyMTQyMEEyMUEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz70zG6VAAADDElEQVR42uxZzasSURS/83wUz0xfWpIbSSKjV2Eu2lcPI/AfkHaBq1wEhRCEFOkyafOW5sKV2OotIqFVkEYvyIQoCFzoIr/BD8RFU9M5970R8WNmHK+j79EPftxxvHPvPff87rnnznCCIBCW4DjOAcV54CmJanXgT+j7F2ENNIgFAXeBP7DJGfgRuM1qDEhuXg+BRzgodoD38bfVaiUul4tsbm5Od0+9TnK5HGm32+TAsEcwjpcr4SHAPWxGr9cL8Xhc4HleUIJ+vy9EIhEB5gMb+Qu8xUQpDAz6jgYlEglBDYLBoCi/3aUbBDiJgzEYDIo9M4pSqSQaVGZh0NqciqWRzGw2E51Op6oBo9EoXm6wWELr+2v66GB9yn2c7jNAvczzplU3aBtDKPAGKwksyyDU3Qvgw8MuOTEoPDgKxogeOgYMrcJg1ASo0UwHDbqKkXdRg6w3GuTZ8wh5/yFLvn3Zk6p64mCTPi7T5G8gJrXvgK+AtVGDzi7KmCehp2T3zdtZ1HJJYd2LwJvAx+BVP3jp9fCf3hkz5DHa7fapmcCnvc/CZfd1yklotVrCnP3zwNusMgVZOBznFt0F7pk74Km14Sg3EZlMZpAjxWIxTQOEz+cj1WpVaf8XgFuSkoMGqCSwjEaj9DoQCMwsuVq9rkpy6XSa/p9KpQSYWHoNRkpJ744iyeEhzGTaz3DcbrdmHrLZbLTsdDqk2+3Sa4vFIie9qbkc8fv9lAh0PaJYLGpmEJ56RRQKBVo2m03VyekAIDd6rK7VaiQcDmu+2YobJ/afTCYVPSMZtsE7VL+hUEhV2JaDkrCtZAxoh+wawsiC3slms5p7J5/PD6JbpVKh96RevIwmp2NwOp00dPZ6PQIzo7nUyuXy2D3wpnrJiWF7GGrCtlrJYYiGYDCoh6FbRppecb0tNPVhsYYU0qtJ6rOsA95/gw7bW5+ZgJuex+NR9SzP88yN8jJalMsmDQp4iD8NvKZyMvB9xJUJ9/GzSl/iuY0Jp9M/uJ/O4ZivYFBj7temDD7HMO3/nwADAE8iT2fLFp6CAAAAAElFTkSuQmCC"}}]);